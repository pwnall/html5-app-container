# HTML5 Application Container

This is a [Cordova](http://cordova.apache.org/)-based container for HTML5
applications, currently targeting Android and iOS.

On Android, the container uses the [Crosswalk](https://crosswalk-project.org/)
WebView for modern and consistent Chrome functionality.

Running a HTML5 application (site) in a Cordova container has the following
advantages:

* no permissions, e.g. to play audio files
* platform abilities, e.g. wake locks


## Prerequisites

* [node.js](http://nodejs.org/) (used by Cordova)
* [Android SDK](https://developer.android.com/sdk/index.html)
* [iOS SDK](https://developer.apple.com/xcode/downloads/)
* [ImageMagick](http://www.imagemagick.org/) with
  [librsvg](https://wiki.gnome.org/action/show/Projects/LibRsvg)

If you have [Homebrew](http://brew.sh/), the following command installs
Imagemagick correctly.

```bash
brew install librsvg
brew install imagemagick --with-librsvg
```


## Personalize

Check out the repository, set your application name and package name in
`script/vars.sh` and `app/config.xml`.

The `script/setup-*.sh` files (executed in the Setup step described below)
install Cordova plugins that extend the native capabilities of the container.
The following commands may reveal new useful plugins.

```bash
./node_modules/.bin/plugman search org.apache.cordova
./node_modules/.bin/plugman search org.chromium
```


## Setup

Run the commands below to create application containers for Android and iOS.

```bash
./script/setup-android.sh
./script/setup-ios.sh
```

This will create keys for releasing the container application in `keys`. Back
up the directory somewhere safe (Google Drive, Dropbox, S3). When using other
computers, delete the `keys` directory generated by the setup script, and
replace it with the saved contents.


## Build

The following commands place build products in the `bin/` directory.

```bash
./script/build-android.sh
./script/build-ios.sh
```

The `app/` directory has HTML / CSS / JS and image files that are copied into
the application container. When changing those, only the build step needs to
be re-executed.


## Develop

The following commands have proven useful in debugging the application
container.

```bash
./node_modules/.bin/ios-sim launch bin/*-debug.ap
```

The iOS application container can be debugged easily by
[Safari's Remote Inspector](http://webdesign.tutsplus.com/articles/quick-tip-using-web-inspector-to-debug-mobile-safari--webdesign-8787).


```bash
adb install -r bin/*-debug.apk
```

The Android application container can be debugged easily by
[Chrome's Remote Debugger](https://developer.chrome.com/devtools/docs/remote-debugging).


## License

This project is Copyright (c) 2014 Victor Costan, and distributed under the MIT
License.
